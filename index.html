<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Sudoku Game</title>
        <link rel="stylesheet" href="board.css">
    </head>
    <body>
        <h1>Sudoku</h1>
        <div class="mode"><h2>Setup Mode</h2><h3>specify board size</h3>
            <div class="boardspace">
                <form>
                    Rows: <input type="text" name="rows"><br>
                    Columns: <input type="text" name="columns"><br>
                </form>
            </div>
        </div>
        
        <br>
        <div class="button">Enter Values</div>

        <script src="js/jquery.js"></script>
        
    <!--	<script src="js/underscore.js"></script> -->
    <!--    <script src="js/backbone.js"></script> -->
        <script src="js/sudoku.js"></script>
    	<script>
    	var b,
    	    v;
    $(".button").on("click", function(e) {
        
        if (e.target.innerHTML === "Enter Values"){
            
            // create a new board and view
            b = SUDOKU.models.board(2,3);
            view = SUDOKU.views.board(b);
            view.render();
            
            // change button text to "Begin Playing"
            $(".button").html("Begin Playing");
            
            // change subtitle to "enter given values"
            $(".mode h3").html("enter given values");
            
        } else if (e.target.innerHTML === "Begin Playing") {
            
            b.fixGivens();
            
            // change button text to "Check Answers"
            $(".button").html("Check Answers");
            
            $(".mode").css("border", "none");
            $(".mode h2").empty();
            $(".mode h3").empty();
            view.render()
            
        } else if (e.target.innerHTML === "Check Answers") {
            
        }
    })
	
	$("body").on("keydown", function (e) {
	    
	    var r = view.getSelectedRow();
	    var c = view.getSelectedCol();
	    
	    // change selection with arrow keys
	    switch (e.keyCode) {
	       case 37: // left
	            view.setSelected(r, c-1);
	            view.render();
	            break;
	       case 38: // up
	            view.setSelected(r-1, c);
	            view.render();
	            break;
	       case 39: // right
                view.setSelected(r, c+1);
	            view.render();
	            break;
	       case 40: // down
	            view.setSelected(r+1, c);
	            view.render();
	           break;
	    }
	    
	   // delete is 46
	   // tab is 9
	    
	   // change value with number keys
	   if (e.keyCode >= 48 && e.keyCode <= 57) {
	       b.setValue(r, c, parseInt(e.keyCode)-48);
	       view.render();
	   } else if ( e.keyCode >= 96 && e.keyCode <= 105) {
	          
	       b.setValue(r, c, parseInt(e.keyCode)-(48 * 2));
	       view.render();
	   }
	})

    	</script>

    </body>
</html>